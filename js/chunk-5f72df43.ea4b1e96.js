(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f72df43"],{"139f":function(e,t,a){"use strict";var c=a("7a23"),o={class:"modal fade",ref:"Delete","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"DeleteAllLabel","aria-hidden":"true"},s={class:"modal-dialog"},r={class:"modal-content"},n=Object(c["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(c["createVNode"])("h5",{class:"modal-title text-center",id:"DeleteAllLabel"},"確定刪除?"),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-footer"},i=Object(c["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想",-1);function l(e,t,a,l,b,u){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",r,[n,Object(c["createVNode"])("div",d,[i,Object(c["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return u.send&&u.send.apply(u,arguments)}),type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"非常低肯定!")])])])],512)}var b=a("7b17"),u={data:function(){return{Modal:"",item:""}},methods:{send:function(){this.$emit("send",this.item)},openModal:function(e){this.item=e,this.Modal.show()}},mounted:function(){this.Modal=new b["a"](this.$refs.Delete)}};u.render=l;t["a"]=u},1799:function(e,t,a){"use strict";var c=a("7a23"),o={"aria-label":"Page navigation example"},s={class:"pagination"},r=Object(c["createVNode"])("span",{"aria-hidden":"true"},"«",-1),n=Object(c["createVNode"])("span",{"aria-hidden":"true"},"»",-1);function d(e,t,a,d,i,l){return Object(c["openBlock"])(),Object(c["createBlock"])("nav",o,[Object(c["createVNode"])("ul",s,[Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_pre}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(t){return e.$emit("get-product",a.pagination.current_page-1)}),["prevent"]))},[r])],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(a.pagination.total_pages,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:o,class:[{active:a.pagination.current_page==t},"page-item"]},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(a){return e.$emit("get-product",t)}),["prevent"])},Object(c["toDisplayString"])(t),9,["onClick"])],2)})),128)),Object(c["createVNode"])("li",{class:["page-item",{disabled:!a.pagination.has_next}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(t){return e.$emit("get-product",a.pagination.current_page+1)}),["prevent"]))},[n])],2)])])}var i={props:["pagination"]};i.render=d;t["a"]=i},"36a4":function(e,t,a){e.exports=a.p+"img/notfound.4a7f0738.png"},b0c0:function(e,t,a){var c=a("83ab"),o=a("9bf2").f,s=Function.prototype,r=s.toString,n=/^\s*function ([^ (]*)/,d="name";c&&!(d in s)&&o(s,d,{configurable:!0,get:function(){try{return r.call(this).match(n)[1]}catch(e){return""}}})},bb5b:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),o=a("36a4"),s=a.n(o),r=Object(c["createVNode"])("h2",{class:"shadow-sm p-3 mt-1 mb-5 bg-yellow-lighten rounded\n     text-primary fz-3 fz-sm-4"},"訂單列表",-1),n={class:"container"},d={key:0,class:"d-flex justify-content-end"},i={class:"table table-hover"},l=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{scope:"col",class:"col-1"},"#"),Object(c["createVNode"])("th",{scope:"col",class:"d-none d-md-table-cell col-md-3"},"建立時間"),Object(c["createVNode"])("th",{scope:"col",class:"col-2"},"姓名"),Object(c["createVNode"])("th",{scope:"col",class:"col-3 d-none d-ssm-table-cell"},"付款"),Object(c["createVNode"])("th",{scope:"col",class:"col-3"},"刪除")])],-1),b={scope:"row",class:"col-1"},u={class:"d-none d-md-table-cell col-md-3"},p={class:"col-2"},O={class:"col-3 position-relative d-none d-ssm-table-cell"},m={class:"btn__enable--center"},g={class:"onoffswitch "},j={class:"col-3 position-relative"},f={class:"btn__del--center"},h={key:1,src:s.a,alt:"not found"},N={key:3,class:"d-flex justify-content-center"},V={class:"container"};function k(e,t,a,o,s,k){var v=this,y=Object(c["resolveComponent"])("Alert"),D=Object(c["resolveComponent"])("ReditOrderModal"),M=Object(c["resolveComponent"])("Pagination"),_=Object(c["resolveComponent"])("Delete"),S=Object(c["resolveComponent"])("DeleteAll"),w=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[r,Object(c["createVNode"])("div",n,[s.pagination.total_pages?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d,[Object(c["createVNode"])("button",{class:"btn btn-danger ",onClick:t[1]||(t[1]=function(e){return v.$refs.deleteAllModal.openModal()})},"清空全部訂單")])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("table",i,[l,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(s.orders,(function(a,o){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:a.id},[Object(c["createVNode"])("th",b,Object(c["toDisplayString"])(a.num),1),Object(c["createVNode"])("td",u,Object(c["toDisplayString"])(e.$toLocaleDate(a.create_at)),1),Object(c["createVNode"])("td",p,Object(c["toDisplayString"])(a.user.name),1),Object(c["createVNode"])("td",O,[Object(c["createVNode"])("div",m,[Object(c["createVNode"])("div",g,[1==a.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"checkbox",name:"onoffswitch",class:"onoffswitch-checkbox",onClick:t[2]||(t[2]=function(){return k.orderEnable&&k.orderEnable.apply(k,arguments)}),id:"myonoffswitch_"+a.id,tabindex:"0",checked:"","data-orderData":JSON.stringify(a)},null,8,["id","data-orderData"])):(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:1,type:"checkbox",name:"onoffswitch",class:"onoffswitch-checkbox",onClick:t[3]||(t[3]=function(){return k.orderEnable&&k.orderEnable.apply(k,arguments)}),id:"myonoffswitch_"+a.id,tabindex:"0","data-orderData":JSON.stringify(a)},null,8,["id","data-orderData"])),Object(c["createVNode"])("label",{class:"onoffswitch-label",for:"myonoffswitch_"+a.id},null,8,["for"])])])]),Object(c["createVNode"])("td",j,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("button",{type:"button",id:"getOne_"+o,onClick:t[4]||(t[4]=function(){return k.getOneData&&k.getOneData.apply(k,arguments)}),class:"btn btn-sm btn-primary btn-left","data-item":JSON.stringify(a)}," 查看 ",8,["id","data-item"]),Object(c["createVNode"])("button",{type:"button",id:"delOrder_"+a.id,onClick:function(e){return v.$refs.deleteModal.openModal(a)},class:"btn btn-sm btn-danger btn-right","data-id":a.id}," 刪除 ",8,["id","onClick","data-id"])])])])})),128))])]),0===s.orders.length?(Object(c["openBlock"])(),Object(c["createBlock"])("img",h)):Object(c["createCommentVNode"])("",!0),s.alertMessage?(Object(c["openBlock"])(),Object(c["createBlock"])(y,{key:2,class:"alert-position",message:s.alertMessage,status:s.alertStatus},null,8,["message","status"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(D,{ref:"reditOrder","redi-datas":s.rediOrderData,onEmitReditNewNata:k.reditOneData},null,8,["redi-datas","onEmitReditNewNata"]),s.pagination.total_pages?(Object(c["openBlock"])(),Object(c["createBlock"])("div",N,[Object(c["createVNode"])(M,{pagination:s.pagination,onGetProduct:k.getOrdersData},null,8,["pagination","onGetProduct"])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(_,{ref:"deleteModal",onSend:k.delOneData},null,8,["onSend"]),Object(c["createVNode"])(S,{ref:"deleteAllModal",onSend:k.deleteAll},null,8,["onSend"]),Object(c["createVNode"])("div",V,[Object(c["createVNode"])(w,{isVueLoading:s.isLoading},null,8,["isVueLoading"])])])],64)}a("99af");var v=a("98ab"),y=a("1799"),D=(a("a4d3"),a("e01a"),{class:"modal fade",ref:"reditOrderModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}),M={class:"modal-dialog "},_={class:"modal-content"},S=Object(c["createVNode"])("div",{class:"modal-header bg-dark text-warning fw-bold"},[Object(c["createVNode"])("h5",{class:"modal-title fz-4",id:"exampleModalLabel"},"修改訂單"),Object(c["createVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1),w={class:"modal-body"},x={class:"card card-body row fw-bold fz-2"},B={class:"card "},C={class:"card-body"},$={class:"card-title"},L={class:"card-text"},T={class:"card-text"},A=Object(c["createTextVNode"])(" 訂單內容 "),E={class:"card mb-3"},J={class:"row g-0"},P={class:"col-md-2"},F={class:"col-md-10"},z={class:"card-body"},R={class:"card-title"},I={class:"card-text"},U={class:"text-muted"},G={class:"card-text d-flex justify-content-between"},q={class:"d-flex justify-content-between align-items-center fw-bold "},H={class:"fs-3 text-danger"},K={key:0,class:"fs-3 text-success"},Q=Object(c["createVNode"])("p",null,"已付款",-1),W={key:1,class:"fs-3 text-danger"},X=Object(c["createVNode"])("p",null,"未付款",-1),Y=Object(c["createVNode"])("hr",{class:"mt-5"},null,-1),Z={class:"form-group"},ee={class:"form-check"},te={for:"bg_redit_is_paid",class:"form-check-label"},ae={class:"modal-footer"},ce=Object(c["createVNode"])("button",{type:"button",id:"btn_redit_cance",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消修改 ",-1);function oe(e,t,a,o,s,r){return Object(c["openBlock"])(),Object(c["createBlock"])("div",D,[Object(c["createVNode"])("div",M,[Object(c["createVNode"])("div",_,[S,Object(c["createVNode"])("div",w,[Object(c["createVNode"])("div",x,[Object(c["createVNode"])("div",B,[Object(c["createVNode"])("div",C,[Object(c["createVNode"])("h5",$,"訂單編號 : "+Object(c["toDisplayString"])(s.rediData.id),1),Object(c["createVNode"])("p",L,[Object(c["createVNode"])("small",null,Object(c["toDisplayString"])(s.rediData.create_at),1)]),Object(c["createVNode"])("p",T,"備註: "+Object(c["toDisplayString"])(s.rediData.message),1),Object(c["createVNode"])("ul",null,[A,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(s.rediData.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{key:e.id},[Object(c["createVNode"])("div",E,[Object(c["createVNode"])("div",J,[Object(c["createVNode"])("div",P,[Object(c["createVNode"])("img",{class:"prd_img_100",src:e.product.imageUrl,alt:"..."},null,8,["src"])]),Object(c["createVNode"])("div",F,[Object(c["createVNode"])("div",z,[Object(c["createVNode"])("h5",R,Object(c["toDisplayString"])(e.product.title),1),Object(c["createVNode"])("p",I,[Object(c["createVNode"])("small",U,Object(c["toDisplayString"])(e.product.description),1)]),Object(c["createVNode"])("p",G,[Object(c["createVNode"])("small",null,Object(c["toDisplayString"])(e.qty),1),Object(c["createVNode"])("small",null,"$"+Object(c["toDisplayString"])(e.total),1)])])])])])])})),128))]),Object(c["createVNode"])("ul",q,[Object(c["createVNode"])("li",H,[Object(c["createVNode"])("p",null,"總計:"+Object(c["toDisplayString"])(s.rediData.total)+" 元",1)]),s.rediData.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("li",K,[Q])):(Object(c["openBlock"])(),Object(c["createBlock"])("li",W,[X]))])])]),Y,Object(c["createVNode"])("div",Z,[Object(c["createVNode"])("div",ee,[s.rediData.is_paid?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.rediData.is_paid=e}),checked:"","true-value":"true","false-value":"false",id:"bg_redit_is_paid",class:"form-check-input"},null,512)),[[c["vModelCheckbox"],s.rediData.is_paid]]):Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:1,type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.rediData.is_paid=e}),"true-value":"true","false-value":"false",id:"bg_redit_is_paid",class:"form-check-input"},null,512)),[[c["vModelCheckbox"],s.rediData.is_paid]]),Object(c["createVNode"])("label",te," 是否已付款 "+Object(c["toDisplayString"])(s.rediData.is_paid),1)])])])]),Object(c["createVNode"])("div",ae,[ce,Object(c["createVNode"])("button",{type:"button","data-backdrop":"false","data-dismiss":"modal",class:"btn btn-primary",onClick:t[3]||(t[3]=function(){return r.reditOneData&&r.reditOneData.apply(r,arguments)})},"儲存修改")])])])],512)}var se=a("7c2b"),re=a.n(se),ne={props:["rediDatas"],data:function(){return{Modal:"",rediData:{}}},methods:{reditOneData:function(){var e={id:this.rediData.id,create_at:this.rediData.create_at,is_paid:"true"===this.rediData.is_paid,message:this.rediData.message,payment_method:this.rediData.payment_method,products:this.rediData.products,total:parseInt(this.rediData.total,10),user:this.rediData.user};this.$emit("emit-redit-new-nata",e)},openModal:function(){this.Modal.show()},closeModal:function(){this.Modal.hide()}},watch:{rediDatas:function(){this.rediData=this.rediDatas}},mounted:function(){this.Modal=new re.a(this.$refs.reditOrderModal)}};ne.render=oe;var de=ne,ie=a("c90a"),le=a("3a5e"),be=a("139f"),ue={components:{Delete:be["a"],Alert:v["a"],Pagination:y["a"],ReditOrderModal:de,DeleteAll:ie["a"],Loading:le["a"]},data:function(){return{alertMessage:"",alertStatus:!1,orders:[],pagination:[],rediOrderData:[],isLoading:!1}},methods:{getOrdersData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/orders?page=").concat(t);this.$http.get(a).then((function(t){t.data.success?(e.orders=t.data.orders,e.pagination=t.data.pagination,e.isLoading=!1):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))},orderEnable:function(e){var t=this,a=JSON.parse(e.target.dataset.orderdata),c=a.id;a.is_paid=!a.is_paid;var o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/order/").concat(c);this.$http.put(o,{data:{create_at:a.create_at,is_paid:a.is_paid,message:a.message,payment_method:a.payment_method,products:a.products,total:parseInt(a.total,10),user:a.user}}).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getOrdersData()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},delOneData:function(e){var t=this;console.log(e);var a=e.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/order/").concat(a);this.$http.delete(c).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getOrdersData()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},getOneData:function(e){var t=JSON.parse(e.target.dataset.item);this.rediOrderData=t,this.$refs.reditOrder.openModal()},reditOneData:function(e){var t=this;this.$refs.reditOrder.closeModal();var a=e.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/order/").concat(a);this.$http.put(c,{data:{create_at:e.create_at,is_paid:e.is_paid,message:e.message,payment_method:e.payment_method,products:e.products,total:parseInt(e.total,10),user:e.user}}).then((function(e){e.data.success?(t.alertMessage=e.data.message,t.alertStatus=!0,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3),t.getOrdersData()):(t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3))})).catch((function(e){t.alertMessage=e.data.message,t.alertStatus=!1,setTimeout((function(){t.alertMessage="",t.alertStatus=!1}),2e3)}))},deleteAll:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sim322on","/admin/orders/all");this.$http.delete(t).then((function(t){t.data.success?(e.alertMessage=t.data.message,e.alertStatus=!0,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3),e.getOrdersData()):(e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3))})).catch((function(t){e.alertMessage=t.data.message,e.alertStatus=!1,setTimeout((function(){e.alertMessage="",e.alertStatus=!1}),2e3)}))}},mounted:function(){this.getOrdersData()}};ue.render=k;t["default"]=ue},c90a:function(e,t,a){"use strict";var c=a("7a23"),o={class:"modal fade",ref:"DeleteAll","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"DeleteAllLabel","aria-hidden":"true"},s={class:"modal-dialog"},r={class:"modal-content"},n=Object(c["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(c["createVNode"])("h5",{class:"modal-title text-center",id:"DeleteAllLabel"},"確定清除全部?"),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),d={class:"modal-footer"},i=Object(c["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 讓我想想",-1);function l(e,t,a,l,b,u){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",r,[n,Object(c["createVNode"])("div",d,[i,Object(c["createVNode"])("button",{id:"signOut",onClick:t[1]||(t[1]=function(){return u.send&&u.send.apply(u,arguments)}),type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"非常低肯定!")])])])],512)}var b=a("7b17"),u={data:function(){return{Modal:""}},methods:{send:function(){this.$emit("send")},openModal:function(){this.Modal.show()}},mounted:function(){this.Modal=new b["a"](this.$refs.DeleteAll)}};u.render=l;t["a"]=u}}]);
//# sourceMappingURL=chunk-5f72df43.ea4b1e96.js.map